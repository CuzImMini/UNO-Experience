import Foundationimport osimport SwiftUIstruct GameEngine {        //Logger für Konsole    let log = Logger()        //Variable für Zugriff auf den Session-Vermittler    private var sessionHandler: MP_Session            //Spielvariablen    var activeCard: Cards = .BLUE_ONE    var cardDeck: [Card] = []    var hasDrawn: Bool = false    var hasPlayed: Bool = false        //aktuelle Ansicht auf Gerät...    var viewState: ViewStates = .mainMenu        var winnerName: String?        //Initializer    init(sessionHandler: MP_Session) {        self.sessionHandler = sessionHandler    }            func requestDraw(amount: Int) {        self.sessionHandler.sendTraffic(recipient: TargetNames.host.rawValue , prefix: TrafficTypes.cardActionIdentifier.rawValue, packet1: CardActions.requestCard.rawValue, packet2: String(amount))            }        mutating func startGame() {                self.viewState = .inGame        self.hasPlayed = false            }        mutating func cancelGame() {        self.viewState = .mainMenu            }        mutating func changeCard(cardRawValue: String, announce: Bool) {        var cardToChangeTo: Cards = .BLUE_ONE                for card in Cards.allCases {            if cardRawValue == card.rawValue {                cardToChangeTo = card            }        }                if cardToChangeTo.number == -2 && !announce {                        self.activeCard = cardToChangeTo            self.hasPlayed = true                    }        else if cardToChangeTo.number == -3 && !announce {            self.activeCard = cardToChangeTo            self.hasPlayed = false                        self.requestDraw(amount: 2)        }        else {            self.activeCard = cardToChangeTo            self.hasPlayed = false        }            }        mutating func winHandler() {        sessionHandler.sendTraffic(recipient: TargetNames.allDevices.rawValue , prefix: TrafficTypes.gameActionIdentifier.rawValue, packet1: GameActions.win.rawValue, packet2: "")        self.viewState = .win            }        mutating func looseHandler(opponentName: String) {        self.winnerName = opponentName        self.viewState = .loose            }        mutating func skipHandler() {        self.hasPlayed = false    }        }